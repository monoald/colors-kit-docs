---
import type { HeadingsType } from "../lib/types";
type Props = HeadingsType;

const { items } = Astro.props;
---

<nav
  aria-label="Page Navigation"
    class={`${!items.length ? "hidden" : "py-2 group"}`}
>
  <div class="border-y border-slate-500 px-2 lg:px-4 py-6">
    <h4 class="md:text-lg font-medium flex justify-between items-center">
      On this page
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        class="w-6 h-6 hidden lg:block group-hover:rotate-180 transition-transform duration-300"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M19.5 8.25l-7.5 7.5-7.5-7.5"
        ></path>
      </svg>
    </h4>
    <div
      class="overflow-hidden lg:h-0 group-hover:lg:h-min group-hover:lg:mt-4 mt-4 lg:mt-0"
    >
      <div
        class="space-y-4 lg:-translate-y-full group-hover:translate-y-0 transition-transform duration-300"
      >
        {
          items.map((item) => (
            <a
              href={`#${item.slug}`}
              class="block px-4 text-slate-600 transition-transform dark:text-slate-200 lg:hover:translate-x-1"
            >
              {item.text}
            </a>
          ))
        }
      </div>
    </div>
  </div>
</nav>